generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Auth {
  id        String    @id @db.VarChar(25)
  password  String    @db.VarChar(255)
  logged_at DateTime? @db.DateTime(0)

  user         User?
  user_type_id Int
  user_type    userType @relation(fields: [user_type_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "auth_ibfk_2")

  @@index([user_type_id], map: "user_type_id")
}

model User {
  user_id    String   @id @db.VarChar(25)
  firstname  String   @db.VarChar(255)
  lastname   String   @db.VarChar(255)
  nic        String   @db.VarChar(20)
  contact_no String   @db.VarChar(10)
  email      String   @db.VarChar(255)
  birthday   DateTime @db.Date

  active     Boolean?  @default(true)
  created_at DateTime? @db.Timestamp(0)

  auth Auth @relation(fields: [user_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "user_ibfk_2")

}

model userType {
  id   Int    @id @default(autoincrement())
  name String @unique @db.VarChar(10)
  auth Auth[]
}
